(defpackage #:eu.turtleware.charming-clim
  (:use #:cl)
  (:export #:start-display))
(in-package #:eu.turtleware.charming-clim)

;; gcc raw-mode.c -shared -o raw-mode.so
;; (cffi:load-foreign-library "/path/to/raw-mode.so")

(cffi:defcfun (enable-raw "enable_raw")
    :pointer)

(cffi:defcfun (disable-raw "disable_raw")
    :void
  (handler :pointer))

(defvar *console-io* *terminal-io*)


(defun put (&rest args)
  "Put raw string on a console"
  (format *console-io* "狺狎珞ㄦ轭轶璀秕麴豸泔铙镬瀛轱┅ㄤ彐躅弩é蝈篝狎珞⑴筱狃箦聃孱沐ㄡ痧禊＇瘐＼弩狎珞┅ㄤ彐躅泱é蝈篝狎珞⒚镱趄镬箦聃孱沐轭趄镤蹉弪ㄡ痧禊＇弩＼狎珞┅ㄤ彐躅箸é蝈篝狎珞⒂屐邈球狃栝义钿轸轱睥ㄡ痧禊＇泱ㄡ痧孱狎珞Ж㈨┅┅ㄤ彐躅蝈箦舡泔铙镬ī⒚戾狎翳筱蝈孱狒趄殁豸弩沲蝮矧痫箝糸镱弭惝ㄥ筱恽┅ㄤ彐躅沆遽颦泔铙镬é镳糸镱犰盹溴博⑴蜥箦轭溟箴灬换腻骈铄盹溴蠛换沆遽骝镯沲蝮矧麸翳孱镦翳溟箴灬换沆遽骝镯沲蝮矧麸翳篝狎镦翳溟箴灬换沆遽孱糸蝈溟箴灬ㄣ箝盹溴⑹┅ㄤ彐躅沆遽颦扉铄é镳糸镱犰盹溴博⑴蜥箦轭扉铄换腻骈铄盹溴蠛换沆遽骝镯沲蝮矧麸翳孱镦翳扉铄换沆遽骝镯沲蝮矧麸翳篝狎镦翳扉铄换沆遽孱糸蝈扉铄ㄣ箝盹溴⑺┅ㄤ彐躅箦舡骘蝈珧秕钿泔祜猢箸⒊富不⒒⒒猢ㄤ彐躅箦舡忉汶珧秕钿泔祜猢箸⒋富不⒒⒒猢ㄤ彐躅筢鲥沲蝮矧痫箝糸镱īㄣ箝Ⅲ┅ㄤ彐躅蝈篝矧瀛沲蝮矧痫箝糸镱īㄣ箝Ⅴ┅ㄤ彐躅箦舡沲蝮矧痫箝糸镱蝻泔飑ㄣ镱è犷蝻泔飑ㄣ箝蝻⒒泔⑷┅è铒铛祆蝻鳗ㄣ箝蝻⒒娶┅è铒铛祆泔飑ㄣ箝⒒泔⑷┅┅ㄤ彐磲泸鏖翳沲蝮矧痫箝糸镱è蝻泔飑怙澌怙澌啜痱镧筢鲥沲蝮矧痫箝糸镱箦舡沲蝮矧痫箝糸镱蝻泔飑躅鏖钿痱雉邈痱镧棱镤蝈篝矧瀛沲蝮矧痫箝糸镱┅┅ㄤ彐躅箦翩沲蝮矧鲩箝忾扉豉鲩箝忪屦ㄩ鲩箝忪屦ㄣ箝⒖㈣ㄣ箝⒖㈧┅ㄤ彐磲泸鏖翳泔铙镬镳趔怙澌怙澌ㄤ邈灬蝈ㄩ珙矧镳趔┅戾è栳钿戾ㄧ孱簌愆┅啜戾è栳钿戾ㄥ钺忪瀛蜥鳗┅躅鏖钿痱雉邈痱镧棱镤ㄤ轶徕戾蜥栳钿戾颟┅┅ㄤ邈灬轫铒糸铎轭箬秣筱蝈孱┅ㄤ彐躅箬秣筱蝈孱ī箦舡沲蝮矧痫箝糸镱ū蜥钿镯泊┅ū蜥钿镯赴┅ㄩ弪镳蜥钿镯博瘐瘐┅ㄤ彐疳蜥礤翦泔铈扉篝后戾屦悲栋恒躜箫蝠铋烘矧彗蝻躅Жｘ骀ｘ岚ｘ岚衡徙腌蝻躅Жｘ鞍ｘ膊ｘ膊┅ㄤ彐躅篝狎舡溟箴灬ī篦犷牒泸遽翦箦蝣弪鏖翳泔铙镬ī祜镳鏖翳泔铈鏖翳箦泔钿滹躅戾篌ㄥ聃犰泔铈泔铈箦翩泔铈ㄣ镳扉篝泔铈┅ㄤ弩趄蹉趱蜷铉忾钿é脲箪邋沲蝮矧骘蝈珧秕钿忉汶珧秕钿泔铈箦翩箦泔钿箪邋皓蝈箦舡泔铙镬濠箦翩ㄣ躜箫颦鲩箝忾扉豉沲蝮矧皓ㄡ痧禊＇箦舡忉汶珧秕钿泔祜忉汶珧秕钿ㄡ痧禊＇箦舡骘蝈珧秕钿泔祜骘蝈珧秕钿ㄣ戾狎泔铙镬濠┅箪邋箦泔钿螬箬秣筱蝈孱┅┅